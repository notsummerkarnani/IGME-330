<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Firebase Test</title>
</head>

<body>
    <script type="module">
        /* Import the functions you need from the SDKs you need*/ 
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"; 
        import { getDatabase, ref, set, push, onValue } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js";
        /* TODO: Add SDKs for Firebase products that you want to use https://firebase.google.com/docs/web/setup#available-libraries Your web app's Firebase configuration*/ 
        const firebaseConfig = { 
            apiKey: "AIzaSyDY0KVCKu6OcRptYPeOZTOrGb4JFWLYu2k", 
            authDomain:"high-scores-e28ee.firebaseapp.com",
            projectId: "high-scores-e28ee",
            storageBucket: "high-scores-e28ee.appspot.com", 
            messagingSenderId: "20698635049", 
            appId: "1:20698635049:web:8f863de257efc0f06df538" 
        }; 
        
        /* Initialize Firebase*/ 
        const app = initializeApp(firebaseConfig); 
        
        /* Part III */ 
        //console.log(app); 
        function writeUserData(userId, name, email) { 
            const db = getDatabase(); 
            set(ref(db, 'users/' + userId), { username: name, email: email }); 
        } 

        function writeHighScoreData(userId, game, score) {
            const db = getDatabase();
            const scoresRef = ref(db, 'scores');
            const newScoreRef = push(scoresRef,{ userId, game, score });
            // the unique ID generated by Firebase that we could use later to reference or change this value
            console.log("newScoreRef",newScoreRef.key);
        }

        writeUserData("abc1234","Ace Coder","ace@rit.edu"); 
        writeUserData("xyz9876","ImaStudent","ima@rit.edu");

        writeHighScoreData("abc1234","Breakout",100);
        writeHighScoreData("xyz9876","Tetris",1000);
    </script>

</body>

</html>